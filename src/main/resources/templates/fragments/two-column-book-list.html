<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Bookstore Fragment: main-content</title>
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>
<!--/*@thymesVar id="bookDtoList" type="java.util.List<com.simple.Bookstore.Book.BookPreviewDTO>"*/-->

<div class='flex-column' th:fragment="twoColBookList(bookDtoList, headingTitle)">
    <div class="book-list-content-div">
        <div th:replace="~{fragments/svg-fragments/heading-followed-by-circles :: svgHeading(${headingTitle}, 290, 18, 6)}"></div>
        <div class="book-list-content">
            <div class="book-list-item gap-10px" th:each="book : ${bookDtoList}">
                <div class="book-list-item-image">
                    <a th:href="@{/books/{id}(id=${book.id})}">
                        <img th:alt="'book-list-item-image-' + ${book.id}"
                             th:src="${book.frontImage != null ?
                                 book.frontImage : 'https://placehold.co/100x140?text=' +
                                     (#strings.isEmpty(book.title) ?
                                         'Book ' + book.id : book.title + '\n' + book.author
                         )}" />
                    </a>
                </div>
                <div class="list-item-details w-100P">
                    <a th:href="@{/books/{id}(id=${book.id})}"
                       th:text="${#strings.isEmpty(book.title) ? 'Book ' + book.id : book.title}"></a>
                    <b class="rating-score" th:if="${book.averageRating != null}">
                        <span th:text="${T(com.simple.Bookstore.utils.DecimalFormatter).formatDecimal(book.averageRating)}"></span> / 5
                    </b>
                    <ul th:replace="~{fragments/components/genre-list :: genreList(${book.genres}, 5)}"></ul>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>